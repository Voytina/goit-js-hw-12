{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getImages(q, p = 1) {\n  const BASE_URL = 'https://pixabay.com/api/';\n\n  const params = new URLSearchParams({\n    key: '43216493-c3660c641d44e8d68813e69e4',\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    page: p,\n    per_page: 15,\n  });\n\n  const url = `${BASE_URL}?${params}`;\n  try {\n    const response = await axios(url);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n","export function renderImages(images) {\n\n    return images.map(({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => {\n        \n        return `<li class=\"list-item\">\n     <a class=\"gallery-link\" href =\"${largeImageURL}\">\n     <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\"\n     </a>\n     \n      <ul class=\"information-list\">\n        <li class=\"item-information-container\">\n          <h2 class=\"main-info\">Likes </h2>\n            <p class=\"info\">${likes}</p>\n          \n        </li>\n        <li class=\"item-information-container\">\n          <h2 class=\"main-info\"> Views</h2>\n            <p class=\"info\">${views}</p>\n          \n        </li>\n        <li class=\"item-information-container\">\n          <h2 class=\"main-info\">Comments </h2>\n            <p class=\"info\">${comments}</p>\n          \n        </li>\n        <li class=\"item-information-container\">\n          <h2 class=\"main-info\">Downloads </h2>\n            <p class=\"info\">${downloads}</p>\n        </li>\n      </ul>\n   \n    </li>`\n        \n    }).join('')\n    \n}","import { getImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-function';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst list = document.querySelector('.list');\nconst loader = document.querySelector('.box__loader');\nconst buttonLoadMore = document.querySelector('.load-button');\n\nlet page = 1;\nlet value = '';\nlet totalImages = 0;\nlet counter = 0;\nconst reset = () => {\n  page = 1;\n  totalImages = 0;\n  counter = 0;\n};\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionsDelay: 250,\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  loader.classList.toggle('hidden');\n  value = form.elements.search.value.trim();\n  reset();\n\n  if (value === '') {\n    loader.classList.toggle('hidden');\n    return iziToast.warning({\n      message: 'Please try again! Write something.',\n      position: 'topRight',\n      color: 'orange',\n    });\n  }\n\n  const getPhoto = async () => {\n    try {\n      const data = await getImages(value);\n\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'topRight',\n        });\n        loader.classList.toggle('hidden');\n        return;\n      }\n\n      if (data.total > 15) {\n        buttonLoadMore.classList.remove('hidden');\n        totalImages = data.total;\n        counter += 15;\n      }\n\n      loader.classList.toggle('hidden');\n      list.innerHTML = renderImages(data.hits);\n      lightbox.refresh();\n    } catch (error) {\n      console.error(error);\n      loader.classList.toggle('hidden');\n    }\n  };\n  getPhoto();\n\n  e.target.reset();\n});\n\nbuttonLoadMore.addEventListener('click', async () => {\n  try {\n    const data = await getImages(value, (page += 1));\n    list.insertAdjacentHTML('beforeend', renderImages(data.hits));\n    counter += 15;\n    lightbox.refresh();\n\n    if (counter > totalImages) {\n      buttonLoadMore.classList.add('hidden');\n    }\n  } catch (error) {\n    console.error(error);\n  }\n});\n\nconsole.log('hello');\n"],"names":["getImages","q","p","BASE_URL","params","url","axios","error","renderImages","images","largeImageURL","webformatURL","tags","likes","views","comments","downloads","form","list","loader","buttonLoadMore","page","value","totalImages","counter","reset","lightbox","SimpleLightbox","e","iziToast","data"],"mappings":"owBAEO,eAAeA,EAAUC,EAAGC,EAAI,EAAG,CACxC,MAAMC,EAAW,2BAEXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAAH,EACA,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAMC,EACN,SAAU,EACd,CAAG,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GACjC,GAAI,CAEF,OADiB,MAAME,EAAMD,CAAG,GAChB,IACjB,OAAQE,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CCtBO,SAASC,EAAaC,EAAQ,CAEjC,OAAOA,EAAO,IAAI,CAAC,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAE9E;AAAA,sCACuBN,CAAa;AAAA,iBAClCC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAMbC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKRC,CAAS;AAAA;AAAA;AAAA;AAAA,UAMlC,EAAE,KAAK,EAAE,CAEd,CC1BA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAiB,SAAS,cAAc,cAAc,EAE5D,IAAIC,EAAO,EACPC,EAAQ,GACRC,EAAc,EACdC,EAAU,EACd,MAAMC,EAAQ,IAAM,CAClBJ,EAAO,EACPE,EAAc,EACdC,EAAU,CACZ,EACME,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,cAAe,GACjB,CAAC,EAEDV,EAAK,iBAAiB,SAAUW,GAAK,CAMnC,GALAA,EAAE,eAAc,EAChBT,EAAO,UAAU,OAAO,QAAQ,EAChCG,EAAQL,EAAK,SAAS,OAAO,MAAM,KAAI,EACvCQ,IAEIH,IAAU,GACZ,OAAAH,EAAO,UAAU,OAAO,QAAQ,EACzBU,EAAS,QAAQ,CACtB,QAAS,qCACT,SAAU,WACV,MAAO,QACb,CAAK,GAGc,SAAY,CAC3B,GAAI,CACF,MAAMC,EAAO,MAAM9B,EAAUsB,CAAK,EAElC,GAAIQ,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,QACE,2EACF,MAAO,MACP,SAAU,UACpB,CAAS,EACDV,EAAO,UAAU,OAAO,QAAQ,EAChC,MACD,CAEGW,EAAK,MAAQ,KACfV,EAAe,UAAU,OAAO,QAAQ,EACxCG,EAAcO,EAAK,MACnBN,GAAW,IAGbL,EAAO,UAAU,OAAO,QAAQ,EAChCD,EAAK,UAAYV,EAAasB,EAAK,IAAI,EACvCJ,EAAS,QAAO,CACjB,OAAQnB,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBY,EAAO,UAAU,OAAO,QAAQ,CACjC,CACL,KAGES,EAAE,OAAO,OACX,CAAC,EAEDR,EAAe,iBAAiB,QAAS,SAAY,CACnD,GAAI,CACF,MAAMU,EAAO,MAAM9B,EAAUsB,EAAQD,GAAQ,CAAC,EAC9CH,EAAK,mBAAmB,YAAaV,EAAasB,EAAK,IAAI,CAAC,EAC5DN,GAAW,GACXE,EAAS,QAAO,EAEZF,EAAUD,GACZH,EAAe,UAAU,IAAI,QAAQ,CAExC,OAAQb,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,CAAC,EAED,QAAQ,IAAI,OAAO"}